<div class="container mt-5">
  <!-- Título -->
  <h3 class="text-center fw-bold mb-4" style="color: var(--primary-color);">
    <i class="bi bi-kanban-fill me-1"></i>Lista de Planes
  </h3>

  <!-- Botón "Nuevo Plan" -->
  <div class="text-end mb-3">
    <button class="btn btn-success" (click)="abrirModalCrearPlan()">
      <i class="bi bi-plus-circle-fill me-1"></i>Nuevo Plan
    </button>
  </div>

  <!-- Tabla de planes -->
  @if (planes.length > 0) {
    <div class="table-responsive shadow-lg rounded">
      <table class="table table-hover table-bordered align-middle text-center">
        <thead class="table-light">
          <tr>
            <th scope="col"><i class="bi bi-hash me-1"></i>ID</th>
            <th scope="col"><i class="bi bi-tag-fill me-1"></i>Nombre</th>
            <th scope="col"><i class="bi bi-card-text me-1"></i>Descripción</th>
            <th scope="col"><i class="bi bi-cash-coin me-1"></i>Precio</th>
            <th scope="col"><i class="bi bi-hourglass-split me-1"></i>Duración</th>
            <th scope="col"><i class="bi bi-calendar-check-fill me-1"></i>Fecha Registro</th>
            <th scope="col"><i class="bi bi-circle-fill me-1"></i>Estado</th>
            <th scope="col"><i class="bi bi-gear-fill me-1"></i>Acciones</th>
          </tr>
        </thead>
        <tbody>
          @for (plan of planes; track plan.id) {
            <tr>
              <td>{{ plan.id }}</td>
              <td class="fw-semibold">{{ plan.nombre }}</td>
              <td class="text-muted">{{ plan.descripcion }}</td>
              <td class="text-muted">{{ plan.precio | currency}}</td>
              <td class="text-muted">{{ plan.duracionDias }} días</td>
              <td class="text-muted">{{ plan.fechaRegistro | date:'dd/MM/yyyy' }}</td>
              <td class="fw-semibold">
                <span [ngClass]="plan.activo ? 'text-success' : 'text-danger'">
                  <i class="bi me-1" [ngClass]="plan.activo ? 'bi-check-circle-fill' : 'bi-x-circle-fill'"></i>
                  {{ plan.activo ? 'Activo' : 'Inactivo' }}
                </span>
              </td>
              <td>
                <button class="btn btn-sm btn-outline-primary me-2" (click)="editarEstado(plan)">
                  <i class="bi bi-pencil-square"></i>
                </button>
                <button class="btn btn-sm btn-outline-danger" (click)="eliminarEstadoModal(plan)">
                  <i class="bi bi-trash3-fill"></i>
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  } @else {
    <!-- Alerta de tabla vacía -->
    <div class="alert alert-warning text-center mt-4" role="alert">
      <i class="bi bi-exclamation-triangle-fill me-2"></i>No hay planes para mostrar.
    </div>
  }
</div>

